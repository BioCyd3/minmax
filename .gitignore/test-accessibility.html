<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessibility Test - Palmon World</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .test-section {
            margin: var(--space-8) 0;
            padding: var(--space-6);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-lg);
            background-color: var(--color-surface-elevated);
        }
        
        .test-title {
            color: var(--color-secondary-500);
            margin-bottom: var(--space-4);
            font-size: var(--font-size-xl);
        }
        
        .test-description {
            color: var(--color-text-secondary);
            margin-bottom: var(--space-4);
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-top: var(--space-4);
        }
        
        .test-item {
            padding: var(--space-3);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            background-color: var(--color-surface);
        }
        
        .keyboard-instructions {
            background-color: var(--color-primary-900);
            padding: var(--space-4);
            border-radius: var(--radius-md);
            margin: var(--space-4) 0;
            border-left: 4px solid var(--color-secondary-500);
        }
        
        .keyboard-instructions h4 {
            color: var(--color-secondary-500);
            margin-bottom: var(--space-2);
        }
        
        .keyboard-instructions ul {
            color: var(--color-text-secondary);
            margin-left: var(--space-4);
        }
        
        .contrast-demo {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-4);
            margin-top: var(--space-4);
        }
        
        .contrast-item {
            padding: var(--space-3);
            border-radius: var(--radius-md);
            min-width: 150px;
            text-align: center;
        }
        
        .contrast-aa {
            background-color: var(--color-success-500);
            color: var(--color-text-primary);
        }
        
        .contrast-aaa {
            background-color: var(--color-primary-600);
            color: var(--color-text-primary);
        }
    </style>
</head>
<body>
    <header class="header">
        <a href="./index.html" class="logo">
            <img src="./images/game_logo.png" alt="Palmon World Logo">
            <h1>Palmon World</h1>
        </a>
        
        <nav class="nav" aria-label="Main navigation">
            <a href="./index.html" class="nav-link">Home</a>
            <a href="./tierlist.html" class="nav-link">Tier List</a>
            <a href="./palbook.html" class="nav-link">Palbook</a>
            <a href="./test-accessibility.html" class="nav-link active">Accessibility Test</a>
        </nav>
        
        <button class="mobile-nav-toggle" aria-label="Toggle mobile navigation" aria-expanded="false" aria-controls="mobile-nav">
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
    </header>
    
    <nav class="mobile-nav" id="mobile-nav" aria-label="Mobile navigation">
        <button class="mobile-nav-close" aria-label="Close mobile navigation">Ã—</button>
        <a href="./index.html" class="nav-link" style="--index: 0">Home</a>
        <a href="./tierlist.html" class="nav-link" style="--index: 1">Tier List</a>
        <a href="./palbook.html" class="nav-link" style="--index: 2">Palbook</a>
        <a href="./test-accessibility.html" class="nav-link active" style="--index: 3">Accessibility Test</a>
    </nav>

    <main class="container" id="main-content">
        <header class="page-header">
            <h1>Accessibility Testing Page</h1>
            <p class="page-description">This page demonstrates and tests the accessibility improvements implemented across the Palmon World website.</p>
        </header>

        <div class="keyboard-instructions">
            <h4>ðŸŽ¯ Keyboard Navigation Instructions</h4>
            <ul>
                <li><strong>Tab:</strong> Navigate between interactive elements</li>
                <li><strong>Shift + Tab:</strong> Navigate backwards</li>
                <li><strong>Enter/Space:</strong> Activate buttons and links</li>
                <li><strong>Arrow Keys:</strong> Navigate within groups (cards, navigation)</li>
                <li><strong>Home/End:</strong> Jump to first/last item in groups</li>
                <li><strong>Escape:</strong> Close modals and mobile navigation</li>
            </ul>
        </div>

        <section class="test-section" aria-labelledby="focus-test-title">
            <h2 id="focus-test-title" class="test-title">Focus Indicators Test</h2>
            <p class="test-description">All interactive elements should have visible focus indicators when navigated with keyboard.</p>
            
            <div class="test-grid">
                <button class="btn btn-primary">Primary Button</button>
                <button class="btn btn-secondary">Secondary Button</button>
                <a href="#" class="btn btn-primary">Link Button</a>
                <input type="text" class="form-input" placeholder="Test input field" aria-label="Test input">
                <select class="form-select" aria-label="Test select">
                    <option>Option 1</option>
                    <option>Option 2</option>
                </select>
                <textarea class="form-textarea" placeholder="Test textarea" aria-label="Test textarea"></textarea>
            </div>
        </section>

        <section class="test-section" aria-labelledby="filter-test-title">
            <h2 id="filter-test-title" class="test-title">Filter Buttons Test</h2>
            <p class="test-description">Filter buttons should have proper focus states and ARIA attributes.</p>
            
            <div class="filter-controls">
                <fieldset class="filter-group">
                    <legend class="filter-group-label">Type:</legend>
                    <button class="filter-btn type-earth" data-filter-type="type" data-filter-value="Earth" aria-pressed="false">Earth</button>
                    <button class="filter-btn type-fire active" data-filter-type="type" data-filter-value="Fire" aria-pressed="true">Fire</button>
                    <button class="filter-btn type-water" data-filter-type="type" data-filter-value="Water" aria-pressed="false">Water</button>
                </fieldset>
                <fieldset class="filter-group">
                    <legend class="filter-group-label">Rarity:</legend>
                    <button class="filter-btn rarity-ur" data-filter-type="rarity" data-filter-value="UR" aria-pressed="false">UR</button>
                    <button class="filter-btn rarity-ssr" data-filter-type="rarity" data-filter-value="SSR" aria-pressed="false">SSR</button>
                </fieldset>
            </div>
        </section>

        <section class="test-section" aria-labelledby="card-test-title">
            <h2 id="card-test-title" class="test-title">Card Navigation Test</h2>
            <p class="test-description">Cards should be keyboard navigable with proper focus indicators and semantic markup.</p>
            
            <div class="test-grid">
                <article class="card" tabindex="0" role="article" aria-labelledby="card-1-title">
                    <h3 id="card-1-title">Test Card 1</h3>
                    <p>This is a test card with proper semantic markup and keyboard navigation support.</p>
                </article>
                <article class="card" tabindex="0" role="article" aria-labelledby="card-2-title">
                    <h3 id="card-2-title">Test Card 2</h3>
                    <p>Another test card demonstrating focus management and accessibility features.</p>
                </article>
                <article class="card" tabindex="0" role="article" aria-labelledby="card-3-title">
                    <h3 id="card-3-title">Test Card 3</h3>
                    <p>Third test card showing consistent focus behavior across all interactive elements.</p>
                </article>
            </div>
        </section>

        <section class="test-section" aria-labelledby="contrast-test-title">
            <h2 id="contrast-test-title" class="test-title">Color Contrast Test</h2>
            <p class="test-description">Text should meet WCAG AA contrast requirements (4.5:1 for normal text, 3:1 for large text).</p>
            
            <div class="contrast-demo">
                <div class="contrast-item contrast-aa">
                    <strong>AA Compliant</strong><br>
                    Normal text on background
                </div>
                <div class="contrast-item contrast-aaa">
                    <strong>AAA Compliant</strong><br>
                    Enhanced contrast text
                </div>
            </div>
            
            <div style="margin-top: var(--space-4);">
                <p><strong>Primary Text:</strong> <span style="color: var(--color-text-primary);">This is primary text color</span></p>
                <p><strong>Secondary Text:</strong> <span style="color: var(--color-text-secondary);">This is secondary text color</span></p>
                <p><strong>Muted Text:</strong> <span style="color: var(--color-text-muted-accessible);">This is muted text color</span></p>
                <p><strong>Link Text:</strong> <a href="#" style="color: var(--color-link-primary);">This is link text color</a></p>
                <p><strong>Error Text:</strong> <span style="color: var(--color-error-accessible);">This is error text color</span></p>
                <p><strong>Success Text:</strong> <span style="color: var(--color-success-accessible);">This is success text color</span></p>
            </div>
        </section>

        <section class="test-section" aria-labelledby="form-test-title">
            <h2 id="form-test-title" class="test-title">Form Accessibility Test</h2>
            <p class="test-description">Forms should have proper labels, error states, and keyboard navigation.</p>
            
            <form class="form">
                <div class="form-group">
                    <label for="test-name" class="form-label required">Name</label>
                    <input type="text" id="test-name" class="form-input" required aria-describedby="name-help">
                    <div id="name-help" class="form-help">Enter your full name</div>
                </div>
                
                <div class="form-group">
                    <label for="test-email" class="form-label required">Email</label>
                    <input type="email" id="test-email" class="form-input" required aria-invalid="true" aria-describedby="email-error">
                    <div id="email-error" class="form-error">Please enter a valid email address</div>
                </div>
                
                <div class="form-group">
                    <label for="test-message" class="form-label">Message</label>
                    <textarea id="test-message" class="form-textarea" aria-describedby="message-help"></textarea>
                    <div id="message-help" class="form-help">Optional message (max 500 characters)</div>
                </div>
                
                <fieldset class="form-group">
                    <legend>Preferences</legend>
                    <label class="form-check-label">
                        <input type="checkbox" class="form-checkbox" checked>
                        Subscribe to newsletter
                    </label>
                    <label class="form-check-label">
                        <input type="radio" class="form-radio" name="contact" value="email" checked>
                        Contact by email
                    </label>
                    <label class="form-check-label">
                        <input type="radio" class="form-radio" name="contact" value="phone">
                        Contact by phone
                    </label>
                </fieldset>
                
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Submit Form</button>
                    <button type="reset" class="btn btn-secondary">Reset</button>
                </div>
            </form>
        </section>

        <section class="test-section" aria-labelledby="screen-reader-test-title">
            <h2 id="screen-reader-test-title" class="test-title">Screen Reader Test</h2>
            <p class="test-description">Content should be properly announced by screen readers with appropriate semantic markup.</p>
            
            <div aria-live="polite" id="live-region-demo" class="sr-only"></div>
            
            <button onclick="announceMessage()" class="btn btn-primary">Test Live Region Announcement</button>
            
            <div style="margin-top: var(--space-4);">
                <h3>Semantic Markup Examples:</h3>
                <ul role="list">
                    <li role="listitem">This is a proper list item</li>
                    <li role="listitem">With explicit ARIA roles</li>
                    <li role="listitem">For better screen reader support</li>
                </ul>
                
                <table>
                    <caption>Example Data Table</caption>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Type</th>
                            <th scope="col">Rarity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">Statchew</th>
                            <td>Earth</td>
                            <td>UR</td>
                        </tr>
                        <tr>
                            <th scope="row">Barkplug</th>
                            <td>Electricity</td>
                            <td>UR</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="test-section" aria-labelledby="reduced-motion-test-title">
            <h2 id="reduced-motion-test-title" class="test-title">Reduced Motion Test</h2>
            <p class="test-description">Animations should respect user's motion preferences. Enable "Reduce motion" in your OS settings to test.</p>
            
            <div class="test-grid">
                <div class="card" style="transition: transform 0.3s ease;">
                    <h3>Animated Card</h3>
                    <p>This card has hover animations that respect motion preferences.</p>
                </div>
                <button class="btn btn-primary" style="transition: all 0.2s ease;">
                    Animated Button
                </button>
            </div>
        </section>
    </main>

    <footer class="footer" role="contentinfo">
        <p>&copy; 2024 Palmon World. All rights reserved.</p>
        <p class="footer-accessibility">
            <a href="#main-content" class="footer-link">Back to top</a> | 
            <span>This page demonstrates WCAG AA accessibility compliance</span>
        </p>
    </footer>

    <script src="scripts/navigation.js"></script>
    <script>
        // Test live region announcements
        function announceMessage() {
            const liveRegion = document.getElementById('live-region-demo');
            liveRegion.textContent = 'This is a test announcement for screen readers. The current time is ' + new Date().toLocaleTimeString();
            
            setTimeout(() => {
                liveRegion.textContent = '';
            }, 3000);
        }
        
        // Add keyboard navigation for test cards
        document.addEventListener('DOMContentLoaded', () => {
            const testCards = document.querySelectorAll('.card[tabindex]');
            
            testCards.forEach((card, index) => {
                card.addEventListener('keydown', (e) => {
                    switch (e.key) {
                        case 'ArrowRight':
                        case 'ArrowDown':
                            e.preventDefault();
                            const nextIndex = (index + 1) % testCards.length;
                            testCards[nextIndex].focus();
                            break;
                            
                        case 'ArrowLeft':
                        case 'ArrowUp':
                            e.preventDefault();
                            const prevIndex = (index - 1 + testCards.length) % testCards.length;
                            testCards[prevIndex].focus();
                            break;
                            
                        case 'Home':
                            e.preventDefault();
                            testCards[0].focus();
                            break;
                            
                        case 'End':
                            e.preventDefault();
                            testCards[testCards.length - 1].focus();
                            break;
                    }
                });
            });
            
            // Test filter button functionality
            const testFilterButtons = document.querySelectorAll('.filter-btn');
            testFilterButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const filterType = btn.dataset.filterType;
                    if (filterType) {
                        // Remove active from same group
                        const sameGroup = document.querySelectorAll(`[data-filter-type="${filterType}"]`);
                        sameGroup.forEach(b => {
                            b.classList.remove('active');
                            b.setAttribute('aria-pressed', 'false');
                        });
                        
                        // Add active to clicked button
                        btn.classList.add('active');
                        btn.setAttribute('aria-pressed', 'true');
                    }
                });
            });
        });
    </script>
</body>
</html>